---
sidebar_position: 1
---

# Autocomplete

## Preview
import Autocomplete from "@repo/ui/Autocomplete";
import Menu from "@repo/ui/Menu";
import AutocompletePreview from "../../src/components/AutocompletePreview";
import RedirectLink from "../../src/components/RedirectLink";
import Container from "./Container";

## Async Data
<Container>
  <AutocompletePreview />
</Container>
```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";
import { BadgeCheck } from "lucide-react";
async function fetchBook(query: string): Promise<Place[]> {
  const url = `https://openlibrary.org/search.json?q=${query}`;
  const resp = await fetch(url);
  const data = await resp.json();
  return data?.docs;
}
export default function Page() {
  return (
    <Autocomplete
      fetchOptions={fetchBook}
      idField="cover_i"
      labelField="title"
      valueField="cover_i"
      onSelect={(e) => {
      }}
      startAdornment={<BadgeCheck size={18} />}
    />
  );
}
```
## Default Component
<Container>

  <Autocomplete
         options={[
  { code: 1, name: "تهران", slug: "tehran" },
  { code: 2, name: "اصفهان", slug: "isfahan" },
  { code: 3, name: "مشهد", slug: "mashhad" }]
    }
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
  idField="code"
  labelField="name"
  valueField="slug"
  onSelect={(opt) => console.log("انتخاب شد:", opt)}
  title="default"
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
           options={[
             { code: 1, name: "تهران", slug: "tehran" },
             { code: 2, name: "اصفهان", slug: "isfahan" },
             { code: 3, name: "مشهد", slug: "mashhad" } 
             ]}
           notFoundText="موردی یافت نشد"
           maxDropdownHeight={200} 
           isDropDown={true}
           idField="code"
           labelField="name"
           valueField="slug"
           onSelect={handleSelect}
           title="default"/>
    </div>
  );
}
```

## Size
<Container>
 <Autocomplete
    options={
      
    [
  { code: 1, name: "تهران", slug: "tehran" },
  { code: 2, name: "اصفهان", slug: "isfahan" },
  { code: 3, name: "مشهد", slug: "mashhad" },
]
    }
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
  idField="code"
  labelField="name"
  valueField="slug"
  onSelect={(opt) => console.log("انتخاب شد:", opt)}
  title=" size=xs"
  size="lg"
       />
       <Autocomplete
         options={
      
      [
  { code: 1, name: "تهران", slug: "tehran" },
  { code: 2, name: "اصفهان", slug: "isfahan" },
  { code: 3, name: "مشهد", slug: "mashhad" },
]
    }
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
  idField="code"
  labelField="name"
  valueField="slug"
  onSelect={(opt) => console.log("انتخاب شد:", opt)}
  title=" size=xs"
  size="xs"
       />
           
</Container>
```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
           options={[
             { code: 1, name: "تهران", slug: "tehran" },
             { code: 2, name: "اصفهان", slug: "isfahan" },
             { code: 3, name: "مشهد", slug: "mashhad" } 
             ]}
           notFoundText="موردی یافت نشد"
           maxDropdownHeight={200} 
           isDropDown={true}
           idField="code"
           labelField="name"
           valueField="slug"
           size="xs"
           onSelect={handleSelect}
           title="size=xs"/>
    </div>
  );
}
```
## Has Error
<Container>


  <Autocomplete
         options={
      
      [
    { id: 1, label: "خراسان رضوی", value: "tehran", disabled: true },
    { id: 2, label: "تهران", value: "isfahan"  , disabled: true },
    { id: 3, label: "خراسان شمالی", value: "mashhad" , disabled: true  },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" },
  ]
    }
         onSelect={() => {}}
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
    title="hasError = true"
    hasError = {true}
       />
</Container>



```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          size="lg"
          hasError = {true}
          onSelect={handleSelect}
          title="hasError = true"/>
    </div>
  );
}
```

## Default value
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }
       defaultValue={{ id: 1, label: "خراسان رضوی", value: "tehran" }} 
    onSelect={(option) => {
      
    }}
    title="default value"
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
            options={[
              { id: 1, label: "خراسان رضوی", value: "1" },
              { id: 2, label: "تهران", value: "2" },
              { id: 3, label: "خراسان شمالی", value: "3" },
              { id: 4, label: "کردستان", value: "4" },
              { id: 5, label: "خراسان جنوبی", value: "5" },
              { id: 6, label: "کرمان", value: "6" },
              { id: 7, label: "خوزستان", value: "7" },
              { id: 8, label: "همدان", value: "8" },
              { id: 9, label: "کرمانشاه", value: "9" }
              ]}
            defaultValue={{ id: 1, label: "خراسان رضوی", value: "tehran" }} 
            notFoundText="موردی یافت نشد"
            maxDropdownHeight={200} 
            isDropDown={true}
            idField="code"
            labelField="name"
            valueField="slug"
            onSelect={handleSelect}
            title="default value"/>
    </div>
  );
}
```

## ReadOnly
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }

    onSelect={(option) => {
      
    }}
    title="readonly"
     inputProps={{
              readOnly:true,
              placeholder:"جستجو کنید",
            }}
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          inputProps={{
              readOnly : true,
              placeholder:"جستجو کنید",
            }}
          onSelect={handleSelect}
          title="readonly"/>
    </div>
  );
}
```

## Disabled
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }

    onSelect={(option) => {
    }}
    title="disabled"
    disabled={true}
    inputProps= {
          {  disabled: true  ,
             placeholder:"جستجو کنید"}
          }
    isDropDown={true}
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          disabled={true}
          inputProps= {{
              disabled: true,
              placeholder:"جستجو کنید"
             }}
          onSelect={handleSelect}
          title="disabled"/>
    </div>
  );
}
```

## Mulitple Select
<Container>

      <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "1" },
    { id: 2, label: "تهران", value: "2" },
    { id: 3, label: "خراسان شمالی", value: "3" },
    { id: 4, label: "کردستان", value: "4" },
    { id: 5, label: "خراسان جنوبی", value: "5" },
    { id: 6, label: "کرمان", value: "6" },
    { id: 7, label: "خوزستان", value: "7" },
    { id: 8, label: "همدان", value: "8" },
    { id: 9, label: "کرمانشاه", value: "9" }
]
    }
    onSelect={(option) => {
      
    }}
    multiple={true}
    title="multiple"
       />
</Container>


```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          multiple={false}
          onSelect={handleSelect}
          title="multiple"/>
    </div>
  );
}
```

## DropDown Icon
<Container>


      <Autocomplete
         options={
      
      [
 { id: "1", label: "خراسان رضوی", value: "1" },
    { id: "2", label: "تهران", value: "2" },
    { id: "3", label: "خراسان شمالی", value: "3" },
    { id: "4", label: "کردستان", value: "4" },
    { id: "5", label: "خراسان جنوبی", value: "5" },
    { id: "6", label: "کرمان", value: "6" },
    { id: "7", label: "خوزستان", value: "7" },
    { id: "8", label: "همدان", value: "8" },
    { id: "9", label: "کرمانشاه", value: "9" }
]
    }
    onSelect={(option) => {
      
    }}
    multiple={true}
    title="isDropDown = false"
    isDropDown={false}
       />

</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const cities: AutocompleteOption[] = [
    { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" },
  ];

  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
      <Autocomplete  isDropDown={false}
        options={cities}
        onSelect={handleSelect}
        notFoundText="موردی یافت نشد"
        multiple = {true}
        title="isDropDown = false"
        isDropDown={false}
      />
    </div>
  );
}
```

## Variant
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }
    onSelect={(option) => {
      
    }}
    title="default value"
    variant="secondary"
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
            options={[
              { id: 1, label: "خراسان رضوی", value: "1" },
              { id: 2, label: "تهران", value: "2" },
              { id: 3, label: "خراسان شمالی", value: "3" },
              { id: 4, label: "کردستان", value: "4" },
              { id: 5, label: "خراسان جنوبی", value: "5" },
              { id: 6, label: "کرمان", value: "6" },
              { id: 7, label: "خوزستان", value: "7" },
              { id: 8, label: "همدان", value: "8" },
              { id: 9, label: "کرمانشاه", value: "9" }
              ]}
            notFoundText="موردی یافت نشد"
            maxDropdownHeight={200} 
            isDropDown={true}
            idField="code"
            labelField="name"
            valueField="slug"
            onSelect={handleSelect}
            variant="secondary"
            title="default value"/>
    </div>
  );
}
```







## Installation

```bash
npx the-dig@latest add Autocomplete,Menu,CircularProgress
```

## Props

### `Autocomplete`

| Prop                                                           | Type                  | Default |
| -------------------------------------------------------------- | --------------------- | ------- |
| `options` <sup className="text-red-600 text-caption2">\*</sup>  | `Array` | -       |
| `fetchOptions` <sup className="text-red-600 text-caption2">\*</sup>    | `promise`             | -       |
| `debounceDelay`                                                     | `number`           | 500       |
| `onSelect`                                                     | `function`           | -       |
| `notFoundText`                                                     | `string`           | موردی یافت نشد       |
| `isDropDown`                                                     | `boolean`           | true       |
| `searchingText`                                                     | `string`           | در حال جستجو...       |
| `idField`                                                     | ` keyof T`           | id  |
| `labelField`                                                     | ` keyof T`           | label       |
| `valueField`                                                     | ` keyof T`           | value       |
| `minSearchChars`                                                     | `number`           | 3      |
| `hasError`                                                     | `boolean`           | false       |
| `size`                                                     | `"xs"` \| `"sm"` \| `"md"` \| `"lg"`           | md       | 
| `variant`                                                     | `"primary"` \| `"secondary"` \|        | primary       | 
| `maxDropdownHeight`                                                     | `number`           | 200      |
|   inputProps    | `HTMLAttributes<HTMLInputElement>` (`placeholder`, `disabled`, `readOnly` , etc.)           | <RedirectLink href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement">Document</RedirectLink> |

