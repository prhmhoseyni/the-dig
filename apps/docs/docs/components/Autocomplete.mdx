---
sidebar_position: 1
---

# Autocomplete

## Preview
import Autocomplete from "@repo/ui/Autocomplete";
import Menu from "@repo/ui/Menu";
import AutocompletePreview from "../../src/components/AutocompletePreview";
import Container from "./Container";

## Async Data
<Container>
  <AutocompletePreview />
</Container>
```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";
import { BadgeCheck } from "lucide-react";
async function fetchBook(query: string): Promise<Place[]> {
  const url = `https://openlibrary.org/search.json?q=${query}`;
  const resp = await fetch(url);
  const data = await resp.json();
  return data?.docs;
}
export default function Page() {
  return (
    <Autocomplete
      fetchOptions={fetchBook}
      placeholder="جستجو ..."
      idField="cover_i"
      labelField="title"
      valueField="cover_i"
      onSelect={(e) => {
      }}
      startAdornment={<BadgeCheck size={18} />}
    />
  );
}
```
## Default Component
<Container>

  <Autocomplete
         options={[
  { code: 1, name: "تهران", slug: "tehran" },
  { code: 2, name: "اصفهان", slug: "isfahan" },
  { code: 3, name: "مشهد", slug: "mashhad" }]
    }
         placeholder="جستجو کنید"
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
  idField="code"
  labelField="name"
  valueField="slug"
  onSelect={(opt) => console.log("انتخاب شد:", opt)}
  title="default"
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
           options={[
             { code: 1, name: "تهران", slug: "tehran" },
             { code: 2, name: "اصفهان", slug: "isfahan" },
             { code: 3, name: "مشهد", slug: "mashhad" } 
             ]}
           placeholder="جستجو کنید"
           notFoundText="موردی یافت نشد"
           maxDropdownHeight={200} 
           isDropDown={true}
           idField="code"
           labelField="name"
           valueField="slug"
           onSelect={handleSelect}
           title="default"/>
    </div>
  );
}
```

## Size Height
<Container>

       <Autocomplete
         options={
      
      [
  { code: 1, name: "تهران", slug: "tehran" },
  { code: 2, name: "اصفهان", slug: "isfahan" },
  { code: 3, name: "مشهد", slug: "mashhad" },
]
    }
         placeholder="جستجو کنید"
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
  idField="code"
  labelField="name"
  valueField="slug"
  onSelect={(opt) => console.log("انتخاب شد:", opt)}
  title=" sizeHeight=xs"
  sizeHeight="xs"
       />
</Container>
```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
           options={[
             { code: 1, name: "تهران", slug: "tehran" },
             { code: 2, name: "اصفهان", slug: "isfahan" },
             { code: 3, name: "مشهد", slug: "mashhad" } 
             ]}
           placeholder="جستجو کنید"
           notFoundText="موردی یافت نشد"
           maxDropdownHeight={200} 
           isDropDown={true}
           idField="code"
           labelField="name"
           valueField="slug"
           sizeHeight="xs"
           onSelect={handleSelect}
           title="sizeHeight=xs"/>
    </div>
  );
}
```
## Has Error
<Container>


  <Autocomplete
         options={
      
      [
    { id: 1, label: "خراسان رضوی", value: "tehran", disabled: true },
    { id: 2, label: "تهران", value: "isfahan"  , disabled: true },
    { id: 3, label: "خراسان شمالی", value: "mashhad" , disabled: true  },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" },
  ]
    }
         placeholder="جستجو کنید"
         onSelect={() => {}}
         notFoundText="موردی یافت نشد"
         maxDropdownHeight={200} 
    isDropDown={true}
    title="hasError = true"
    hasError = {true}
       />
</Container>



```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          placeholder="جستجو کنید"
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          sizeHeight="lg"
          hasError = {true}
          onSelect={handleSelect}
          title="hasError = true"/>
    </div>
  );
}
```

## Default value
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }
       defaultValue={{ id: 1, label: "خراسان رضوی", value: "tehran" }} 
    onSelect={(option) => {
      
    }}
    title="default value"
    placeholder="شهر مورد نظر را انتخاب کنید"
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
            options={[
              { id: 1, label: "خراسان رضوی", value: "1" },
              { id: 2, label: "تهران", value: "2" },
              { id: 3, label: "خراسان شمالی", value: "3" },
              { id: 4, label: "کردستان", value: "4" },
              { id: 5, label: "خراسان جنوبی", value: "5" },
              { id: 6, label: "کرمان", value: "6" },
              { id: 7, label: "خوزستان", value: "7" },
              { id: 8, label: "همدان", value: "8" },
              { id: 9, label: "کرمانشاه", value: "9" }
              ]}
            defaultValue={{ id: 1, label: "خراسان رضوی", value: "1" }} 
            placeholder="جستجو کنید"
            notFoundText="موردی یافت نشد"
            maxDropdownHeight={200} 
            isDropDown={true}
            idField="code"
            labelField="name"
            valueField="slug"
            onSelect={handleSelect}
            title="default value"/>
    </div>
  );
}
```

## ReadOnly
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }

    onSelect={(option) => {
      
    }}
    placeholder="شهر مورد نظر را انتخاب کنید"
    title="readonly"
    readOnly={true}
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          placeholder="جستجو کنید"
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          readOnly={true}
          onSelect={handleSelect}
          title="readonly"/>
    </div>
  );
}
```

## Disabled
<Container>
 <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" }
]
    }

    onSelect={(option) => {
    }}
    placeholder="شهر مورد نظر را انتخاب کنید"
    title="disabled"
    disabled={true}
    isDropDown={true}
       />
</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          placeholder="جستجو کنید"
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          disabled={true}
          onSelect={handleSelect}
          title="disabled"/>
    </div>
  );
}
```

## Mulitple Select
<Container>

      <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "1" },
    { id: 2, label: "تهران", value: "2" },
    { id: 3, label: "خراسان شمالی", value: "3" },
    { id: 4, label: "کردستان", value: "4" },
    { id: 5, label: "خراسان جنوبی", value: "5" },
    { id: 6, label: "کرمان", value: "6" },
    { id: 7, label: "خوزستان", value: "7" },
    { id: 8, label: "همدان", value: "8" },
    { id: 9, label: "کرمانشاه", value: "9" }
]
    }
    onSelect={(option) => {
      
    }}
    placeholder="شهر مورد نظر را انتخاب کنید"
    multiple={true}
    title="multiple"
       />
</Container>


```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
       <Autocomplete
          options={[
            { code: 1, name: "تهران", slug: "tehran" },
            { code: 2, name: "اصفهان", slug: "isfahan" },
            { code: 3, name: "مشهد", slug: "mashhad" } 
            ]}
          placeholder="جستجو کنید"
          notFoundText="موردی یافت نشد"
          maxDropdownHeight={200} 
          isDropDown={true}
          idField="code"
          labelField="name"
          valueField="slug"
          multiple={true}
          onSelect={handleSelect}
          title="multiple"/>
    </div>
  );
}
```

## DropDown Icon
<Container>


      <Autocomplete
         options={
      
      [
 { id: 1, label: "خراسان رضوی", value: "1" },
    { id: 2, label: "تهران", value: "2" },
    { id: 3, label: "خراسان شمالی", value: "3" },
    { id: 4, label: "کردستان", value: "4" },
    { id: 5, label: "خراسان جنوبی", value: "5" },
    { id: 6, label: "کرمان", value: "6" },
    { id: 7, label: "خوزستان", value: "7" },
    { id: 8, label: "همدان", value: "8" },
    { id: 9, label: "کرمانشاه", value: "9" }
]
    }
       defaultValue={{ id: 1, label: "خراسان رضوی", value: "tehran" }} 
    onSelect={(option) => {
      
    }}
    placeholder="شهر مورد نظر را انتخاب کنید"
    multiple={true}
    title="isDropDown = false"
    isDropDown={false}
       />

</Container>

```tsx
import { useRef, useState } from "react";
import Autocomplete from "@repo/ui/Autocomplete";

export default function Page() {
  const cities: AutocompleteOption[] = [
    { id: 1, label: "خراسان رضوی", value: "tehran" },
    { id: 2, label: "تهران", value: "isfahan" },
    { id: 3, label: "خراسان شمالی", value: "mashhad" },
    { id: 4, label: "کردستان", value: "shiraz" },
    { id: 5, label: "خراسان جنوبی", value: "tabriz" },
    { id: 6, label: "کرمان", value: "mashhad1" },
    { id: 7, label: "خوزستان", value: "mashhad2" },
    { id: 8, label: "همدان", value: "mashhad3" },
    { id: 9, label: "کرمانشاه", value: "mashhad4" },
  ];

  const handleSelect = (option: AutocompleteOption) => { }
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
      <Autocomplete  isDropDown={false}
        options={cities}
        placeholder="جستجو کنید"
        onSelect={handleSelect}
        notFoundText="موردی یافت نشد"
        multiple = {true}
        title="isDropDown = false"
        isDropDown={false}
      />
    </div>
  );
}
```



## Installation

```bash
npx the-dig@latest add Autocomplete,Menu,CircularProgress
```

## Props

### `Autocomplete`

| Prop                                                           | Type                  | Default |
| -------------------------------------------------------------- | --------------------- | ------- |
| `options` <sup className="text-red-600 text-caption2">\*</sup>  | `Array` | -       |
| `fetchOptions` <sup className="text-red-600 text-caption2">\*</sup>    | `promise`             | -       |
| `placeholder` <sup className="text-red-600 text-caption2">\*</sup> | `string`        |جستجو کنید        |
| `debounceDelay`                                                     | `number`           | 500       |
| `onSelect`                                                     | `function`           | -       |
| `notFoundText`                                                     | `string`           | موردی یافت نشد       |
| `isDropDown`                                                     | `boolean`           | true       |
| `searchingText`                                                     | `string`           | در حال جستجو...       |
| `idField`                                                     | ` keyof T`           | id  |
| `labelField`                                                     | ` keyof T`           | label       |
| `valueField`                                                     | ` keyof T`           | value       |
| `minSearchChars`                                                     | `number`           | 3      |
| `readOnly`                                                     | `boolean`           | false       |
| `disabled`                                                     | `boolean`           | false       |
| `hasError`                                                     | `boolean`           | false       |
| `sizeHeight`                                                     | `"xs"` \| `"sm"` \| `"md"` \| `"lg"`           | md       | 
| `maxDropdownHeight`                                                     | `number`           | 200      |
| `titleClassName`                                                     | `string`           | -      |

